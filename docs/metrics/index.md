# 概览

日志系统可以给我们提供详细的程序运行状态信息，但是分析起来比较麻烦。通常，我们还会在日志系统以外，使用简单的指标系统来监控程序运行状态。例如，我们可以使用计数器来统计程序处理了多少请求，其中多少是失败的。又或者我们可以统计程序处理请求的平均时间。通常指标系统对外表现就是一个简单的 `map<string, float>`，由专门的程序负责收集不同的服务器程序暴露的指标，进行聚合统计。

指标统计以后，我们还可以设置报警系统，使得我们可以快速发现程序运行的异常状态。例如，如果我们发现程序在过去的一分钟的错误率暴增，那么就可以发送一封邮件或者一条短信告诉负责人及时介入处理。

本章将介绍如何在服务器程序中整合已有的指标系统库。